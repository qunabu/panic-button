{"version":3,"sources":["../src/panic.js"],"names":[],"mappings":";;;;;AAAA,IAAI,QAAQ;;AAEV,YAAU;AACR,WAAO,+DADC;AAER,SAAK,iCAFG;AAGR,aAAS,IAHD;AAIR,iBAAa,EAJL;AAKR,gBAAY;AALJ,GAFA;;AAUV,SAAO,IAVG;;AAYV,UAAQ,gBAAU,QAAV,EAAoB;;AAE1B,QAAI,UAAU,IAAI,cAAJ,EAAd;AACA,YAAQ,IAAR,CAAa,KAAb,EAAoB,kDAAkD,KAAK,QAAL,CAAc,WAAhE,GAA8E,OAA9E,GAAwF,KAAK,QAAL,CAAc,UAA1H,EAAsI,IAAtI;;AAEA,YAAQ,MAAR,GAAiB,YAAY;AAC3B,UAAI,QAAQ,MAAR,IAAkB,GAAlB,IAAyB,QAAQ,MAAR,GAAiB,GAA9C,EAAmD;AACjD,YAAI,MAAM,KAAK,KAAL,CAAW,QAAQ,YAAnB,EAAiC,IAAjC,CAAsC,SAAhD;AACA,iBAAS,GAAT;AACD,OAHD,MAGO;AACL,gBAAQ,GAAR,CAAY,0CAAZ;AACD;AACF,KAPD;;AASA,YAAQ,OAAR,GAAkB,YAAY;AAC5B,cAAQ,GAAR,CAAY,kBAAZ;AACD,KAFD;;AAIA,YAAQ,IAAR;AAED,GAhCS;;AAkCV,QAAM,gBAAY;AAAA;;AAChB,aAAS,IAAT,CAAc,WAAd,CAA0B,KAAK,EAA/B;AACA,SAAK,KAAL,CAAW,IAAX;AACA,WAAO,WAAW,YAAM;AACpB,eAAS,IAAT,CAAc,WAAd,CAA0B,MAAK,EAA/B;AACD,KAFI,EAGL,KAAK,QAAL,CAAc,OAHT,CAAP;AAMD,GA3CS;;AA6CV,QAAM,gBAAyB;AAAA;;AAAA,QAAf,QAAe,uEAAJ,EAAI;;;AAE7B,SAAK,QAAL,GAAgB,OAAO,MAAP,CAAc,KAAK,QAAnB,EAA6B,QAA7B,CAAhB;;AAEA,QAAI,KAAK,EAAL,IAAW,SAAf,EAA0B;AACxB,WAAK,KAAL,GAAa,IAAI,KAAJ,CAAU,KAAK,QAAL,CAAc,KAAxB,CAAb;;AAEA,WAAK,EAAL,GAAU,SAAS,aAAT,CAAuB,KAAvB,CAAV;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,QAAd,GAAyB,OAAzB;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,MAAd,GAAuB,SAAvB;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,GAAd,GAAoB,GAApB;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,IAAd,GAAqB,GAArB;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,KAAd,GAAsB,MAAtB;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,MAAd,GAAuB,MAAvB;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,UAAd,GAA2B,UAAU,KAAK,QAAL,CAAc,GAAxB,GAA8B,qBAAzD;AACA,WAAK,EAAL,CAAQ,KAAR,CAAc,cAAd,GAA+B,OAA/B;AAED;;AAED,QAAI,KAAK,QAAL,CAAc,WAAlB,EAA+B;AAC7B,WAAK,MAAL,CAAY,UAAC,GAAD,EAAS;AACnB,eAAK,QAAL,CAAc,GAAd,GAAoB,GAApB;AACA,eAAK,EAAL,CAAQ,KAAR,CAAc,UAAd,GAA2B,UAAU,OAAK,QAAL,CAAc,GAAxB,GAA8B,qBAAzD;AACA,eAAK,EAAL,CAAQ,KAAR,CAAc,cAAd,GAA+B,OAA/B;AACA,eAAK,IAAL;AACD,OALD;AAMD,KAPD,MAOO;AACL,WAAK,IAAL;AACD;AAEF;AA3ES,CAAZ;;kBA8Ee,K;;AACf,OAAO,OAAP,GAAiB,KAAjB;;AAEA,OAAO,KAAP,GAAe,KAAf","file":"panic.js","sourcesContent":["var Panic = {\n\n  settings: {\n    sound: 'https://freesound.org/data/previews/348/348310_6165769-lq.mp3',\n    img: 'https://i.imgur.com/rwNqqt7.gif',\n    timeout: 2000,\n    giphyApiKey: '',\n    giphyQuery: 'panic'\n  },\n\n  sound: null,\n\n  getGif: function (callback) {\n\n    var request = new XMLHttpRequest;\n    request.open('GET', 'https://api.giphy.com/v1/gifs/random?api_key=' + this.settings.giphyApiKey + '&tag=' + this.settings.giphyQuery, true);\n\n    request.onload = function () {\n      if (request.status >= 200 && request.status < 400) {\n        var img = JSON.parse(request.responseText).data.image_url;\n        callback(img);\n      } else {\n        console.log('reached giphy, but API returned an error');\n      }\n    };\n\n    request.onerror = function () {\n      console.log('connection error');\n    };\n\n    request.send();\n\n  },\n\n  show: function () {\n    document.body.appendChild(this.el);\n    this.sound.play();\n    return setTimeout(() => {\n        document.body.removeChild(this.el);\n      },\n      this.settings.timeout\n    );\n    \n  },\n\n  aaaa: function (settings = {}) {\n\n    this.settings = Object.assign(this.settings, settings);\n\n    if (this.el == undefined) {\n      this.sound = new Audio(this.settings.sound);\n\n      this.el = document.createElement('div');\n      this.el.style.position = 'fixed';\n      this.el.style.zIndex = '9999999';\n      this.el.style.top = '0';\n      this.el.style.left = '0';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.background = \"url('\" + this.settings.img + \"') no-repeat center\";\n      this.el.style.backgroundSize = 'cover';\n\n    }\n\n    if (this.settings.giphyApiKey) {\n      this.getGif((img) => {\n        this.settings.img = img;\n        this.el.style.background = \"url('\" + this.settings.img + \"') no-repeat center\";\n        this.el.style.backgroundSize = 'cover';\n        this.show();\n      });\n    } else {\n      this.show();\n    }\n\n  }\n};\n\nexport default Panic;\nmodule.exports = Panic;\n\nwindow.Panic = Panic;"]}